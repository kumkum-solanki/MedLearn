<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MedLearn</title>
  <style>
    :root{
      /* Custom palette from user */
      --p1: #dad7cd; /* light */
      --p2: #a3b18a; /* soft green */
      --p3: #588157; /* accent */
      --p4: #3a5a40; /* header */
      --p5: #344e41; /* card */

      --bg: linear-gradient(180deg, #0b1226, #071022);
      --text: #e6efe6;
      --muted: #cbd5c4;
      --radius: 14px;
      --shadow: 0 8px 24px rgba(20,20,20,.6);
      --glass: rgba(255,255,255,0.03);
      --ring: 0 0 0 4px rgba(88,129,87,.12);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: radial-gradient(800px 400px at 10% 10%, rgba(52,78,65,0.12), transparent 20%),
                  radial-gradient(700px 380px at 100% 0%, rgba(88,129,87,0.08), transparent 18%),
                  #071114; color:var(--text);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    header{background: linear-gradient(180deg,var(--p4), rgba(58,90,64,0.9)); padding:18px 0; border-bottom:1px solid rgba(255,255,255,0.03); position:sticky; top:0; z-index:20}
    .container{max-width:1200px; margin:0 auto; padding:0 20px}

    /* Top bar with centered title */
    .topbar{display:flex; align-items:center; justify-content:center; gap:18px}
    .brandbox{display:flex; align-items:center; gap:12px}
    .doctor-box{width:56px; height:56px; border-radius:12px; background: linear-gradient(180deg,var(--p2), var(--p3)); display:flex; align-items:center; justify-content:center; box-shadow: 0 6px 18px rgba(52,78,65,0.18);}
    .doctor-box svg{width:34px; height:34px; filter: drop-shadow(0 2px 6px rgba(0,0,0,.35));}

    h1.title{font-size:1.35rem; margin:0; letter-spacing:0.2px; color: #f6fbf6}
    .top-controls{position:absolute; right:20px; top:22px; display:flex; gap:10px}

    main{padding:26px 0}
    .layout{display:grid; grid-template-columns: 1fr; gap:18px; max-width:1200px; margin:0 auto}

    .toolbar{display:flex; gap:10px; align-items:center; justify-content:center; flex-wrap:wrap}
    .search{min-width:320px; max-width:560px; width:46%;}
    input[type='text'], select{background:transparent; border:1px solid rgba(255,255,255,0.06); padding:10px 12px; border-radius:10px; color:var(--text); outline:none}
    input[type='text']:focus, select:focus{box-shadow: var(--ring); border-color: var(--p3)}

    .btn{background:linear-gradient(180deg,var(--p3), var(--p2)); border:none; color:#07210a; padding:10px 14px; border-radius:12px; font-weight:700; cursor:pointer; box-shadow: var(--shadow);}
    .btn.ghost{background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--text); font-weight:600}
    .btn.secondary{background:linear-gradient(180deg,#2e4f3c,#2b3f35); color:var(--p1)}

    .panel{background: linear-gradient(180deg, rgba(52,78,65,0.06), rgba(52,78,65,0.03)); border:1px solid rgba(255,255,255,0.03); padding:18px; border-radius:16px; box-shadow: var(--shadow)}
    .grid{display:grid; grid-template-columns: repeat(auto-fill, minmax(300px,1fr)); gap:16px}

    .card{background: linear-gradient(180deg, var(--p5), rgba(20,30,24,0.95)); border-radius:14px; padding:14px; border:1px solid rgba(255,255,255,0.03); box-shadow: 0 8px 26px rgba(10,18,12,0.5)}
    .card h4{margin:0 0 8px 0}
    .muted{color:var(--muted); font-size:0.95rem}
    .sep{height:1px; background: rgba(255,255,255,0.03); margin:10px 0}

    .actions{display:flex; gap:8px; justify-content:flex-end}
    .small{padding:6px 10px; font-size:0.95rem; border-radius:10px}

    /* Modal/dialog styles */
    dialog{border:none; border-radius:14px; padding:0; background: linear-gradient(180deg, rgba(20,30,24,0.95), rgba(14,22,18,0.95)); color:var(--text); width:min(820px,94vw);}
    dialog::backdrop{background:rgba(0,0,0,0.6)}
    .dlg-header{display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid rgba(255,255,255,0.03)}
    .dlg-body{padding:16px}
    .grid-form{display:grid; grid-template-columns: 1fr 1fr; gap:12px}
    .grid-form .full{grid-column:1/-1}
    textarea{min-height:80px; resize:vertical}
    label{font-size:0.88rem; color:var(--muted);}

    /* Trash list */
    .trash-list{display:flex; flex-direction:column; gap:8px}
    .trash-item{background:rgba(0,0,0,0.12); border:1px solid rgba(255,255,255,0.03); padding:10px; border-radius:10px; display:flex; justify-content:space-between; align-items:center}

    /* Responsive tweaks */
    @media (max-width:900px){
      .search{width:100%}
      .toolbar{flex-direction:column; gap:12px}
      .grid{grid-template-columns: 1fr}

      /* Mobile buttons visible & stacked */
      .top-controls{
        display:flex !important;
        flex-direction:column;
        gap:8px;
        position:relative;
        top:0;
        right:0;
      }
    }
  </style>
  <style>
  /* Add Medicine categories dropdown text green */
  #medCat {
    color: var(--p3); /* accent green */
  }

  /* Sort dropdown text green */
  #sort {
    color: var(--p3); /* accent green */
  }
</style>

</head>
<body>
  <header>
    <div class="container topbar">
      <div class="brandbox">
        <div class="doctor-box" title="Doctor">
          <!-- simple stethoscope SVG icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M4 7v5a4 4 0 0 0 8 0V7" />
            <path d="M12 12v4a3 3 0 0 0 6 0v-4" />
            <path d="M20 3v4" />
            <circle cx="20" cy="8" r="1.8" />
          </svg>
        </div>
        <div>
          <h1 class="title">MedLearn</h1>
        </div>
      </div>

      <div class="top-controls">
        <button class="btn" id="addMedBtn">‚ûï Add Medicine</button>
        <button class="btn secondary" id="catBtn">üóÇÔ∏è Categories</button>
        <button class="btn ghost" id="restoreBtn">‚ôªÔ∏è Restore</button>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="layout">
      <div class="toolbar">
        <input id="q" class="search" type="text" placeholder="Search by name, content, use‚Ä¶" />
        <select id="sort" style="min-width:160px">
          <option value="name-asc">Sort: Name (A‚ÜíZ)</option>
          <option value="name-desc">Sort: Name (Z‚ÜíA)</option>
          <option value="cat-asc">Sort: Category</option>
        </select>
      </div>

      <section class="panel">
        <h3 style="margin-top:0">All Medicines</h3>
        <div id="cards" class="grid"></div>
        <div id="empty" class="muted" style="display:none; text-align:center; margin-top:20px">No medicines found. Add one with the <b>‚ûï Add Medicine</b> button.</div>
      </section>
    </div>
  </main>

  <!-- Add / Edit Medicine Dialog -->
  <dialog id="medDialog">
    <div class="dlg-header">
      <strong id="dlgTitle">Add Medicine</strong>
      <button class="btn ghost" onclick="closeMed()">‚úñ</button>
    </div>
    <div class="dlg-body">
      <form id="medForm" class="grid-form">
        <input type="hidden" id="medId" />
        <div>
          <label>Medicine Name</label>
          <input type="text" id="medName" required placeholder="e.g., Paracetamol" />
        </div>
        <div>
          <label>Category</label>
          <select id="medCat" required></select>
        </div>
        <div class="full">
          <label>Content / Composition</label>
          <input type="text" id="medContent" placeholder="e.g., Acetaminophen 500 mg" />
        </div>
        <div>
          <label>Dose</label>
          <input type="text" id="medDose" placeholder="e.g., 500 mg, 1 tablet q6h" />
        </div>
        <div>
          <label>Use (Indication)</label>
          <input type="text" id="medUse" placeholder="e.g., Fever, mild to moderate pain" />
        </div>
        <div class="full">
          <label>Notes (optional)</label>
          <textarea id="medNotes" placeholder="Contraindications, side effects, pregnancy, renal adjust‚Ä¶"></textarea>
        </div>
        <div class="full" style="display:flex; gap:8px; justify-content:flex-end">
          <button type="button" class="btn ghost" onclick="closeMed()">Cancel</button>
          <button type="submit" class="btn">Save Medicine</button>
        </div>
      </form>
    </div>
  </dialog>

  <!-- Categories Dialog -->
  <dialog id="catDialog">
    <div class="dlg-header">
      <strong>Manage Categories</strong>
      <button class="btn ghost" onclick="catDialog.close()">‚úñ</button>
    </div>
    <div class="dlg-body">
      <form id="catForm" class="grid-form">
        <div>
          <label>New Category</label>
          <input type="text" id="catInput" placeholder="e.g., Pain Relief" />
        </div>
        <div style="display:flex; align-items:flex-end">
          <button type="submit" class="btn">Add Category</button>
        </div>
      </form>
      <div id="catItems" style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap"></div>
    </div>
  </dialog>

  <!-- Restore (Trash) Dialog -->
  <dialog id="restoreDialog">
    <div class="dlg-header">
      <strong>Restore Deleted Medicines</strong>
      <button class="btn ghost" onclick="restoreDialog.close()">‚úñ</button>
    </div>
    <div class="dlg-body">
      <div id="trashList" class="trash-list"></div>
      <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px">
        <button class="btn ghost" onclick="clearTrashConfirm()">Empty Trash</button>
        <button class="btn" onclick="restoreDialog.close()">Done</button>
      </div>
    </div>
  </dialog>

  <script>
  // Same JS code as before (no changes needed)
  // ... JS code copied from your original file ...
  </script>
</body>
</html>
